<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bleachoot</title>
  <link rel="stylesheet" type="text/css" href="./css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <link rel="icon" href="./assets/img/icon.ico" type="image/x-icon">
</head>

<body>
  <header class="navbar">
    <a href="#"><img src="./assets/img/bleachootlogo.png" class="logo"></a>
    <nav class="nav-links">
      <a href="#inicio">INÍCIO</a>
      <a href="#sobre">SOBRE</a>
      <a href="#arcos">ARCOS</a>
      <a href="#OST">OST</a>
      <a href="#quiz">QUIZ</a>
      <a href="#feedback">FEEDBACK</a>
      <a href="#extra">EXTRA</a>
      <a href="#contato">CONTATO</a>
      <a href="login_cadastro.html" id="logado" class="nav-item-auth"><button class="login-btn">LOGIN</button></a>
    </nav>
  </header>

  <section class="inicio" id="inicio">
    <div class="inicio-content">
      <h2>O PODER DOS SHINIGAMIS</h2>
      <p>Descubra a jornada de Ichigo Kurosaki enquanto enfrenta Hollows, Espadas e muito mais.</p>
      <a href="#sobre"><button class="explore-btn">EXPLORAR</button></a>
    </div>
  </section>

  <section class="sobre" id="sobre">
    <div class="container">
      <h3>SOBRE</h3>
      <p>
        <strong>Bleach</strong> é um anime e mangá criado por <strong>Tite Kubo</strong>, que acompanha a história de
        <strong>Ichigo Kurosaki</strong>, um adolescente que adquire os poderes de um Shinigami (Ceifeiro de Almas) e é
        encarregado de proteger os vivos dos espíritos malignos conhecidos como Hollows.
      </p>
      <p>
        Ao longo da série, Ichigo embarca em diversas jornadas para salvar seus amigos, enfrentar inimigos poderosos
        como os Arrancars e os Quincy, e descobrir segredos sobre o mundo espiritual e seu próprio passado. Com batalhas
        épicas, personagens marcantes e trilha sonora impactante, Bleach conquistou fãs ao redor do mundo.
      </p>
    </div>
  </section>

  <section class="arcos" id="arcos">
    <h3>ARCOS</h3>
    <div class="arco-cards">
      <div class="card">
        <img src="./assets/img/Ichigo.jpg" alt="Ichigo">
        <h4>Agente Substituto de Shinigami</h4>
        <p>Inicio da jornada de Ichigo Kurosaki como Shinigami Substituto.</p>
      </div>
      <div class="card">
        <img src="./assets/img/sociedadedasalmas.jpg" alt="Sociedade Das Almas">
        <h4>Sociedade das Almas</h4>
        <p>Ichigo e seus amigos invadem a Soul Society para resgatar Rukia.</p>
      </div>
      <div class="card">
        <img src="./assets/img/bount.jpg" alt="Bount">
        <h4>Bount</h4>
        <p>O grupo precisará enfrentar os chamados Bounts, humanos que se alimentam de almas.</p>
      </div>
      <div class="card">
        <img src="./assets/img/grimmjow.gif" alt="Grimmjow">
        <h4>Arrancar / Hueco Mundo</h4>
        <p>A luta contra os Arrancars e a ameaça dos Espadas.</p>
      </div>
      <div class="card">
        <img src="./assets/img/Aizen.jpg" alt="Aizen">
        <h4>Invasão de Karakura & Guerra contra Aizen</h4>
        <p>Karakura é invadida pelos Arrancars, liderados por Sōsuke Aizen</p>
      </div>
      <div class="card">
        <img src="./assets/img/tsukishima.png" alt="Tsukishima">
        <h4>Fullbringer</h4>
        <p>Ichigo aceita a ajuda dos Fullbringers para recuperar seus poderes.</p>
      </div>
      <div class="card">
        <img src="./assets/img/Yhwach.png" alt="Yhwach">
        <h4>Guerra Sangrenta dos Mil Anos</h4>
        <p>A batalha final contra os invasores Quincy e Yhwach.</p>
      </div>
    </div>
  </section>

  <section class="sobre" id="OST">
    <div class="container">
      <h3>Original SoundTrack</h3>
      <p>
        Escute a trilha sonora original de Bleach, de uma olhada nessa playlist.
      </p>
      <p>
        <iframe style="border-radius:12px"
          src="https://open.spotify.com/embed/playlist/4EAI5t6XeK5nR0zL7q6F15?utm_source=generator&theme=0" width="100%"
          height="352" frameBorder="0" allowfullscreen=""
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </p>
    </div>
  </section>

  <section class="quiz" id="quiz">
    <div class="quiz-content">
      <h2>Quer testar seu conhecimento sobre Bleach?</h2>
      <p>Veja nosso quiz, prove o seu valor shinigami.</p>
      <a href="login_cadastro.html" id="botaoQuizRegistro"><button class="explore-btn">REGISTRO</button></a>
    </div>
  </section>

  <section class="feedback" id="feedback">
    <div class="feedback-content">
      <h2>Feedback</h2>
      <p>Encontrou um Hollow em nosso site? Envie-nos uma mensagem!</p>

      <form id="feedbackForm" onsubmit="return enviarFeedback(event)">
        <div class="form-group">
          <label for="nomeFeedback">Seu Nome (Opcional):</label>
          <input type="text" id="nomeFeedback" name="nomeFeedback" placeholder="Seu nome">
        </div>
        <div class="form-group">
          <label for="emailFeedback">Seu E-mail: <span style="color: red;">*</span></label>
          <input type="email" id="emailFeedback" name="emailFeedback" placeholder="seu.email@exemplo.com" required>
        </div>
        <div class="form-group">
          <label for="assuntoFeedback">Assunto (Opcional):</label>
          <input type="text" id="assuntoFeedback" name="assuntoFeedback" placeholder="Sugestão, Dúvida, Bug, etc.">
        </div>
        <div class="form-group">
          <label for="mensagemFeedback">Sua Mensagem: <span style="color: red;">*</span></label>
          <textarea id="mensagemFeedback" name="mensagemFeedback" rows="5" placeholder="Escreva sua mensagem aqui..."
            required></textarea>
        </div>
        <button type="submit">Enviar Feedback</button>
        <p id="feedbackMessage" style="margin-top: 10px;"></p>
      </form>
    </div>
  </section>

  <section class="sobre" id="extra">
    <h2>Quanto tempo levaria para assistir Bleach?</h2>
    <p>Considere episódios de 24 minutos.</p>
    <button onclick="calcularTempo(true)">Assistindo com fillers</button>
    <button onclick="calcularTempo(false)">Assistindo sem fillers</button>
    <div id="resultadoTempo" style="margin-top: 20px; font-size: 1.2rem;"></div>
  </section>

  <section class="sobre" id="contato">
    <div class="container">
      <h3>Contato</h3>
      <p> Email: <strong>contato.fernandopadrao@hotmail.com</strong> </p>
      <p> Telefone: <strong>(11) 12345-6789</strong> </p>
      <a href="https://github.com/ferbssz" target="_blank"><i class="fa-brands fa-github"
          style="color: #ff4500; font-size: 30px; padding: 1%;"></i></a>
      <a href="https://instagram.com/ferbssz" target="_blank"><i class="fa-brands fa-instagram"
          style="color: #ff4500; font-size: 30px;"></i></a>
      <a href="" title="ferbssz" target="_blank"><i class="fa-brands fa-discord"
          style="color: #ff4500; font-size: 30px; padding: 1%;"></i></a>
    </div>
  </section>

  <footer class="footer">
    © 2025 Bleachoot. Todos os direitos reservados.
  </footer>
</body>

</html>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var nomeUsuario = sessionStorage.getItem('nomeUsuario');
    var logadoElement = document.getElementById('logado');
    var navLinksContainer = document.querySelector('.nav-links');


    function renderlogados() {

      var existingUserLink = document.getElementById('userProfileLink');
      var existingLogoutLink = document.getElementById('logoutLink');
      var existingLoginBtn = document.getElementById('logado');

      if (existingUserLink) existingUserLink.remove();
      if (existingLogoutLink) existingLogoutLink.remove();
      if (existingLoginBtn) existingLoginBtn.remove();

      if (nomeUsuario) {


        var userProfileLink = document.createElement('a');
        userProfileLink.href = 'poslogin.html';
        userProfileLink.id = 'userProfileLink';
        userProfileLink.title = nomeUsuario;
        userProfileLink.innerHTML = '<i class="fas fa-user"></i>';
        userProfileLink.classList.add('nav-link');
        navLinksContainer.appendChild(userProfileLink);


        var logoutLink = document.createElement('a');
        logoutLink.href = '#';
        logoutLink.id = 'logoutLink';
        logoutLink.textContent = 'SAIR';
        logoutLink.classList.add('nav-link');
        navLinksContainer.appendChild(logoutLink);

        logoutLink.addEventListener('click', function (event) {
          event.preventDefault();
          sessionStorage.removeItem('nomeUsuario');

          console.log('Sessão do usuário limpa no sessionStorage.');

          renderlogados();

          window.location.href = 'index.html';
        });

      } else {

        var loginLink = document.createElement('a');
        loginLink.href = 'login_cadastro.html';
        loginLink.id = 'logado';
        loginLink.classList.add('nav-item-auth');
        loginLink.innerHTML = '<button class="login-btn">LOGIN</button>';
        navLinksContainer.appendChild(loginLink);
        console.log('Botão LOGIN adicionado de volta.');
      }
    }

    renderlogados();
  });
  function calcularTempo(incluirFillers) {
    var episodiosClassicoComFillers = 366;
    var episodiosClassicoSemFillers = 202;
    var episodiosTYBW = 52;

    var duracaoMinutos = 24;

    var totalEpisodios = incluirFillers
      ? episodiosClassicoComFillers + episodiosTYBW
      : episodiosClassicoSemFillers + episodiosTYBW;

    var tempoTotalMinutos = totalEpisodios * duracaoMinutos;

    var dias = Math.floor(tempoTotalMinutos / (60 * 24));
    var horas = Math.floor((tempoTotalMinutos % (60 * 24)) / 60);
    var minutos = tempoTotalMinutos % 60;

    document.getElementById("resultadoTempo").innerHTML =
      `Você levaria aproximadamente <strong>${dias} dias, ${horas} horas e ${minutos} minutos</strong> para assistir Bleach ${incluirFillers ? "com" : "sem"} fillers, <br> incluindo todas as partes da Guerra dos Mil Anos até 2025.`;
  }
  window.onload = () => {
    var idUsuario = sessionStorage.getItem("idUsuario");
    var link = document.getElementById("botaoQuizRegistro");
    var botao = link.querySelector("button");

    if (idUsuario) {
      link.href = "quiz.html";
      botao.innerText = "INICIAR QUIZ";
    } else {
      link.href = "login_cadastro.html";
      botao.innerText = "REGISTRO";
    }
  };



  function enviarFeedback(event) {
    event.preventDefault();

    const idUsuario = sessionStorage.getItem('idUsuario');
    const nomeFeedback = document.getElementById('nomeFeedback').value;
    const emailFeedback = document.getElementById('emailFeedback').value;
    const assuntoFeedback = document.getElementById('assuntoFeedback').value;
    const mensagemFeedback = document.getElementById('mensagemFeedback').value;
    const feedbackMessage = document.getElementById('feedbackMessage');


    if (!emailFeedback || !mensagemFeedback) {
      feedbackMessage.style.color = 'red';
      feedbackMessage.innerText = 'Por favor, preencha o e-mail e a mensagem.';
      return false;
    }


    const dadosFeedback = {
      idUsuario: idUsuario || null,
      nomeRemetente: nomeFeedback || null,
      emailRemetente: emailFeedback,
      assunto: assuntoFeedback || null,
      mensagem: mensagemFeedback
    };

    fetch('http://localhost:3333/feedback/enviar', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(dadosFeedback),
    })
      .then(async response => {
        const data = await response.json();
        if (response.ok) {
          feedbackMessage.style.color = 'green';
          feedbackMessage.innerText = data.mensagem;
          document.getElementById('feedbackForm').reset();
        } else {
          feedbackMessage.style.color = 'red';
          feedbackMessage.innerText = data.erro || 'Erro ao enviar feedback.';
        }
      })
      .catch(error => {
        console.error('Erro de rede ao enviar feedback:', error);
        feedbackMessage.style.color = 'red';
        feedbackMessage.innerText = 'Erro de conexão. Tente novamente mais tarde.';
      });

    return false;
  }

</script>